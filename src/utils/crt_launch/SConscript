#!python
# (C) Copyright 2016-2022 Intel Corporation.
#
# SPDX-License-Identifier: BSD-2-Clause-Patent
#
"""Build crt_launch"""


def scons():
    """scons function"""
    Import('env')

    tenv = env.Clone()

    tenv.d_add_requires('mercury')
    tenv.AppendUnique(FLAGS='-pthread')

    crt_launch = tenv.d_program('crt_launch.c', LIBS=['dpar', 'cart', 'gurt', 'pthread', 'm'])
    tenv.Install('$PREFIX/bin', crt_launch)


if __name__ == "SCons.Script":
    scons()
